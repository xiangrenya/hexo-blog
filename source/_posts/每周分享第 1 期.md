---
layout: post
title:  "每周分享第 1 期"
date:   2019-4-19
categories: 前端
tags: 学习
comments: true
---


## 使用 npm-check 更新 npm 依赖项

```shell
# 全局安装 npm -check
npm i npm-check -g
# 全局更新包
npm -u -g
# 更新项目中的依赖项
npm -u
# 更新生产环境依赖项
npm -u <name> --save
# 更新开发环境依赖项
npm -u <name> --save-dev
```

## centos 7 安装 docker

```shell
# yum 安装 docker
yum install docker
# 启动 docker 服务
systemctl start docker
# 测试 docker 进程是否存在
ps -ef |grep docker
```

常用命令

```shell
# 查看所有镜像
docker image list
# 查看所有容器
docker ps -a
# 启动已存在的容器
docker start CONTAINER_ID
# 查看容器的日志
docker logs CONTAINER_ID
```

## 使用 docker 部署 jenkins

```shell
# 安装 jenkins 镜像
docker pull jenkins/jenkins
# 启动 jenkins 容器
docker run -d -p 8081:8080 -p **50000**:50000  -u 0 -v /data/jenkins_home:/var/jenkins_home --name jenkins jenkins/jenkins
```

> 注意：( -u 0 )这命令的意思是覆盖容器中内置的帐号，改用外部传入，这里传入 0 代表的是 root 帐号 id，不然会出现Permission denied 的错误。
  
## centos 7 安装 node.js

```shell
# 通过 curl 命令安装 nvm 
curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.34.0/install.sh | bash
# 读取并执行.bashrc中的内容
source ~/.bashrc
# 测试 nvm 是否安装成功
command -v nvm
# 安装 node.js 稳定版 8.15.1
nvm install v8.15.1
```

## centos 7 安装 nginx

```shell
# 安装第三方软件安装源：EPEL(Extra Packages for Enterprise Linux)
yum install epel-release
# 安装 nginx
yum install nginx
```

常用命令

```
# 设置开机启动
systemctl enable nginx
# 启动 nginx 服务
systemctl start nginx
# 查看 nginx 服务的状态
systemctl status nginx
# 重启 nginx 服务
systemctl restart nginx
# 停止 nginx 服务
systemctl stop nginx
# 重载 nginx 配置
systemctl reload nginx
```

## ssh 远程登录服务器

```shell
# 在本地创建公私密钥
ssh-keygen -t rsa
cat ~/.ssh/id_rsa.pub
# 启用密码和ssh公钥登录
vi /etc/ssh/sshd_config
# 通过配置以下属性，允许SSH登录
RSAAuthentication yes
PubkeyAuthentication yes
AuthorizedKeysFile .ssh/authorized_keys
# 把本地的公钥粘贴到authorized_keys中
vi ~/.ssh/authorized_keys
# 重启 ssh 服服务
systemctl restart sshd
# ssh登录远程主机
ssh root@66.42.52.110
ssh -i ~/.ssh/id_rsa root@66.42.52.110
```

## 参考资料

- [官方jenkins镜像](https://hub.docker.com/r/jenkins/jenkins)
- [Node Version Manager: NVM](https://github.com/creationix/nvm)
- [How To Install Nginx on CentOS 7](https://linuxize.com/post/how-to-install-nginx-on-centos-7)
- [Install MongoDB Community Edition on Red Hat Enterprise or CentOS Linux](https://docs.mongodb.com/manual/tutorial/install-mongodb-on-red-hat)
- [How To Install MySQL on CentOS 7](https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-centos-7)
- [Install and Configure Redis on CentOS 7](https://www.linode.com/docs/databases/redis/install-and-configure-redis-on-centos-7)